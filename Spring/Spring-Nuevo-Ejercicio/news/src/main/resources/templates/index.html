<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="/fragments/head :: head"></head>

<body>

    <nav th:replace="/fragments/navbar :: nav"></nav>

    <main class="main">
        <div class="container-md general">

            <!--Error-->
            <div th:if="${error != null}" class="card text-white bg-danger mb-4 mensajeError">
                <div class="card-body">
                    <h6 class="card-title">Error ðŸ‘Ž</h6>
                    <small class="card-text" th:text="${error}"></small>
                </div>
            </div>

            <!--Exito-->
            <div th:if="${exito != null}" class="card text-white bg-success mb-4 mt-3 mensajeExito">
                <div class="card-body">
                    <h6 class="card-title">Exito!</h6>
                    <small class="card-text" th:text="${exito}"></small>
                </div>
            </div>

            <div class="container">
                <h1> Bienvenido a Chinchilla News!!</h1>
            </div>

            <!--Noticia-->
            <div th:each="noticia : ${noticias}" class="container-fluid noticias">
                <div class="card">
                    <div class="card-body">
                        <h1 class="card-title" th:text="${noticia.titulo}"></h1>
                        <a><img th:if="${noticia.imagen != null}" class="card-img-bottom"
                                th:src="@{imagen/noticia/__${noticia.id}__}" style="max-width:800px ;"></a>
                        <br>
                        <p class="card-text" th:text="${noticia.cuerpo}"></p>
                        <br>
                        <p class="card-text" th:text="${noticia.seccion}"><small class="text-body-secondary"></small>
                        </p>
                    </div>
                    <br>
                </div>
            </div>

        </div>

        <div th:if="${exito != null}" class="toast show " role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Noticia</strong>
                <small>1 seg ago</small>
                <button type="button" class="btn-close ms-2 mb-1" data-bs-dismiss="toast" aria-label="Close">
                    <span aria-hidden="true"></span>
                </button>
            </div>
            <div class="toast-body contenido" th:text="${exito}">
            </div>
        </div>
    </main>



    <footer th:replace="/fragments/footer :: footer"></footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
</body>

</html>